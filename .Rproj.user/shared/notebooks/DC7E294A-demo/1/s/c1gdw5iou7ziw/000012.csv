"0","#rug"
"0","bm05_rug <- data_prep %>%"
"0","  dplyr::pull(bm05)"
"0",""
"0","#Uncomment next line to open the outcome"
"0","#pdp_data <- qs::qread(here::here(""Data"", ""bm05_trt_int_pdp_preds.qs""))"
"0",""
"0","#create range for bm05"
"0","bm05_range <- data_prep %>%"
"0","  dplyr::pull(bm05) %>%"
"0","  range()"
"0","#plot"
"0","p <- pdp_data %>%"
"0","  ggplot2::ggplot(aes("
"0","    x = bm05,"
"0","    y = 1 - .value,"
"0","    color = .trt"
"0","  )) + # 1 minus for event probability, not survival prob"
"0","  geom_line()    +"
"0","  facet_wrap("
"0","    ~ time_id,"
"0","    nrow = 2,"
"0","    labeller =  ggplot2::labeller("
"0","      time_id  = function(s) {"
"0","        rf_model$unique.death.times[as.numeric(s)] %>% round(3)"
"0","      },"
"0","      # construct time labels within the function"
"0","      .default = ggplot2::label_value"
"0","    )"
"0","  ) +"
"0","  ylab(""event probability"")"
"0",""
"0","p + ggplot2::geom_rug("
"0","  data = bm05_rug %>% tibble::enframe(),"
"0","  mapping = ggplot2::aes(x = value),"
"0","  inherit.aes = F,"
"0","  sides = ""b"","
"0","  alpha = 1,"
"0","  col = ""#B3B3B3"""
"0",")"
